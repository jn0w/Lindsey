# MongoDB Atlas Setup for Our Memories App

This guide explains how to set up MongoDB Atlas connection for the Our Memories app.

## Environment Variables

Create a `.env.local` file in the root of your project with the following content:

```
MONGODB_URI=mongodb+srv://jakub:<db_password>@ourmemories.3c7pw1c.mongodb.net/?retryWrites=true&w=majority&appName=OurMemories
```

Replace `<db_password>` with your actual MongoDB Atlas password.

## MongoDB Atlas Collection Structure

The application uses the following database structure:

- Database name: `ourmemories`
- Collection name: `memories`

### Memory Schema

Each memory document has the following structure:

```javascript
{
  _id: ObjectId, // Automatically generated by MongoDB
  title: String, // Required
  description: String, // Required
  date: Date, // When the memory occurred
  images: Array, // Array of image URLs
  tags: Array, // Array of tags
  createdAt: Date, // When the memory was created
  updatedAt: Date // When the memory was last updated
}
```

## API Endpoints

The following API endpoints are available for managing memories:

### GET /api/mongodb

Test MongoDB connection.

### GET /api/memories

Fetch all memories.

### POST /api/memories

Create a new memory. Required fields: `title` and `description`.

### GET /api/memories/[id]

Fetch a single memory by ID.

### PUT /api/memories/[id]

Update a memory by ID.

### DELETE /api/memories/[id]

Delete a memory by ID.

## Testing MongoDB Connection

To test your MongoDB connection, start the development server and visit:

```
http://localhost:3000/api/mongodb
```

If connected successfully, you'll see a JSON response with `"success": true`.
